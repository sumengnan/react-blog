(window["webpackJsonpreact-blog"]=window["webpackJsonpreact-blog"]||[]).push([[12],{683:function(e,t,a){"use strict";a(350);var n=a(211),r=a(0),c=a.n(r),i=a(159);function l(e){var t=e.total,a=e.current,r=e.onChange,l=e.pageSize,o=e.style,s=void 0===o?{}:o,m=Object(i.useMediaQuery)({query:"(max-width: 736px)"});return c.a.createElement("div",{className:"app-pagination",style:s},c.a.createElement(n.a,{hideOnSinglePage:!0,current:a,onChange:r,total:t,pageSize:l,simple:m}))}l.defaultProps={pageSize:10},t.a=l},686:function(e,t,a){"use strict";a(62);var n=a(3),r=(a(158),a(66)),c=(a(206),a(85)),i=a(0),l=a.n(i),o=a(16),s=a(30),m=a(65);function u(e,t){var a=t.find((function(t){return t.name===e}));return a?a.color:""}t.a=Object(o.withRouter)((function(e){var t=Object(s.useSelector)((function(e){return e.article.tagList})),a=e.tagList,i=e.categoryList;return l.a.createElement(l.a.Fragment,null,a.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,{type:"vertical",style:{marginRight:7}}),l.a.createElement(m.a,{type:"icontags",style:{marginRight:7}}),a.map((function(e,a){return l.a.createElement(r.a,{key:a,color:u(e.name,t)},l.a.createElement(o.Link,{to:"/tags/".concat(e.name)},e.name))}))),i.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,{type:"vertical",style:{marginRight:7}}),l.a.createElement(n.a,{type:"folder",style:{marginRight:7}}),i.map((function(e,t){return l.a.createElement(r.a,{key:t,color:"#2db7f5"},l.a.createElement(o.Link,{to:"/categories/".concat(e.name)},e.name))}))))}))},705:function(e,t,a){},736:function(e,t,a){"use strict";a.r(t);a(208);var n=a(123),r=(a(214),a(106)),c=a(124),i=a(0),l=a.n(i),o=(a(705),a(40)),s=a(210),m=(a(664),a(665)),u=(a(62),a(3)),p=a(22),g=(a(206),a(85)),d=a(16),E=a(159),h=function(e){var t=e.list,a=e.showTitle,n=void 0===a||a;return l.a.createElement("ul",{className:"preview"},n&&l.a.createElement(g.a,null,"\u70ed\u95e8\u6587\u7ae0"),t.map((function(e){return l.a.createElement("li",{key:e.id},l.a.createElement(d.Link,{to:"/article/".concat(e.id)},e.title))})))},y=function(e){var t=Object(E.useMediaQuery)({query:"(min-width: 1300px)"}),a=e.list,n=Object(i.useState)(!1),r=Object(p.a)(n,2),c=r[0],o=r[1];return t?l.a.createElement(h,{list:a}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"drawer-btn",onClick:function(e){return o(!0)}},l.a.createElement(u.a,{type:"menu-o",className:"nav-phone-icon"})),l.a.createElement(m.a,{title:"\u70ed\u95e8\u6587\u7ae0",placement:"right",closable:!1,onClose:function(e){return o(!1)},visible:c,getContainer:function(){return document.querySelector(".app-home")}},l.a.createElement(h,{list:a,showTitle:!1})))},f=a(65),v=a(686),b=function(e){var t=Object(d.useHistory)(),a=e.list;function n(e){t.push("/article/".concat(e))}return l.a.createElement("ul",{className:"app-home-list"},a.map((function(e){return l.a.createElement("li",{key:e.id,className:"app-home-list-item"},l.a.createElement(g.a,{orientation:"left",style:{margin:"5px 0px"}},l.a.createElement("span",{className:"title",dangerouslySetInnerHTML:{__html:e.title},onClick:function(){return n(e.id)}}),l.a.createElement("span",{className:"posted-time"},e.createdAt.slice(0,10))),l.a.createElement("div",{onClick:function(){return n(e.id)},className:"article-detail content",dangerouslySetInnerHTML:{__html:e.content}}),l.a.createElement("div",{className:"list-item-others"},l.a.createElement(f.a,{type:"iconcomment"}),l.a.createElement("span",{style:{marginRight:5}}," ",Object(o.a)(e.comments)),l.a.createElement(f.a,{type:"iconview",style:{marginRight:5}}),l.a.createElement("span",null,e.viewCount),l.a.createElement(v.a,{tagList:e.tags,categoryList:e.categories})))})))},w=a(683),O=a(349);t.default=function(e){var t=Object(O.a)({requestUrl:"/search",queryParams:{pageSize:s.c},fetchDependence:[e.location.search]}),a=t.loading,m=t.pagination,u=t.dataList,p=Object(O.a)({withLoading:!1,requestUrl:"/article/list",queryParams:{order:"viewCount DESC",page:1,pageSize:10}}).dataList,g=Object(i.useMemo)((function(){return Object(c.a)(u).map((function(e){var t=e.content.indexOf("\x3c!--more--\x3e");return e.content=Object(o.g)(e.content.slice(0,t)),e}))}),[u]),d=Object(o.b)(e.location.search).keyword;return l.a.createElement(n.a,{tip:"Loading...",spinning:a},l.a.createElement("div",{className:"app-home"},l.a.createElement(b,{list:g}),l.a.createElement(y,{list:p}),0===g.length&&d&&l.a.createElement("div",{className:"no-data"},l.a.createElement(r.a,{description:l.a.createElement("span",null,"\u4e0d\u5b58\u5728\u6807\u9898/\u5185\u5bb9\u4e2d\u542b\u6709 ",l.a.createElement("span",{className:"keyword"},d)," \u7684\u6587\u7ae0\uff01")})),l.a.createElement(w.a,Object.assign({},m,{onChange:function(e){document.querySelector(".app-main").scrollTop=0,m.onChange(e)}}))))}}}]);